webpackJsonp([1],{"40n2":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},s,!1,function(e){n("40n2")},null,null).exports,a=n("zL8q"),i=n.n(a),c=n("znjY"),l=n.n(c),u=(n("tvR6"),n("/ocq")),m={name:"Home",data:function(){return{sysUserName:"",sysUserAvatar:""}},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.name||"",this.sysUserAvatar=e.avatar||""),this.loginRemove()},methods:{loginRemove:function(){document.body.classList.remove("login")},logout:function(){var e=this;this.$confirm("Exit?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")}).catch(function(){e.$message({type:"info",message:"Exit canceled"})})}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home",attrs:{id:"Home"}},[n("el-container",{staticClass:"container"},[n("el-row",{staticClass:"wrap"},[n("el-col",{staticClass:"userinfo",attrs:{span:12,offset:6}},[n("div",{staticClass:"logout"},[n("el-button",{attrs:{type:"info",icon:"el-icon-delete"},nativeOn:{click:function(t){return e.logout(t)}}})],1)]),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:12,offset:6}},[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var p=n("VU/8")(m,d,!1,function(e){n("Q8BW")},null,null).exports,f=n("mvHQ"),h=n.n(f),v=n("mtWM"),g=n.n(v),b={data:function(){return{logining:!1,ruleForm:{account:"",checkPass:""},rules:{account:[{required:!0,message:"Please input your account.",trigger:"blur"}],checkPass:[{required:!0,message:"Please input your password.",trigger:"blur"}]},checked:!0}},mounted:function(){this.loginCheck()},methods:{loginCheck:function(){document.body.classList.add("login")},handleSubmit:function(e){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.logining=!0;var n,r={username:t.ruleForm.account,password:t.ruleForm.checkPass};(n=r,g.a.post("/login",n).then(function(e){return e.data})).then(function(e){t.logining=!1;var n=e.msg,r=e.code,s=e.user;200!==r?t.$message({message:n,type:"error"}):(sessionStorage.setItem("user",h()(s)),t.$router.push({path:"/HelloWorld"}))})})}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"ruleForm",staticClass:"login-container",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("System login")]),e._v(" "),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"Account"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"checkPass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"Password"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),e._v(" "),n("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("Remember me")]),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e._v("Login")])],1)],1)},staticRenderFns:[]};var _=n("VU/8")(b,y,!1,function(e){n("OZDj")},"data-v-4b1d5239",null).exports,k={render:function(){var e=this.$createElement;return(this._self._c||e)("p",{staticClass:"page-container"},[this._v("404 page not found")])},staticRenderFns:[]};var w=n("VU/8")(null,k,!1,function(e){n("tAHv")},"data-v-75ae9dbb",null).exports,F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("h1",[this._v(this._s(this.msg))])])},staticRenderFns:[]};var x=n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to My Vue.js App"}}},F,!1,function(e){n("t5Dl")},"data-v-29b4cc88",null).exports;r.default.use(u.a);var C=new u.a({mode:"history",routes:[{path:"/login",component:_,name:"",hidden:!0},{path:"/404",component:w,name:"",hidden:!0},{path:"/",name:"Home",component:p,children:[{path:"/HelloWorld",component:x,name:"Homepage",hidden:!0}]},{path:"*",hidden:!0,redirect:{path:"/404"}}]});C.beforeEach(function(e,t,n){"/login"===e.path&&sessionStorage.removeItem("user"),JSON.parse(sessionStorage.getItem("user"))||"/login"===e.path?n():n({path:"/login"})});var S=C,P=n("//Fk"),$=n.n(P),H=n("KorX"),R=n.n(H),O=[{id:1,username:"admin",password:"admin",avatar:"https://randomuser.me/api/portraits/men/5.jpg",name:"Putin"}];({bootstrap:function(){var e=new R.a(g.a);e.onGet("/success").reply(200,{msg:"success"}),e.onGet("/error").reply(500,{msg:"failure"}),e.onPost("/login").reply(function(e){var t=JSON.parse(e.data),n=t.username,r=t.password;return new $.a(function(e,t){var s=null;setTimeout(function(){var t=O.some(function(e){if(e.username===n&&e.password===r)return(s=JSON.parse(h()(e))).password=void 0,!0});e(t?[200,{code:200,msg:"Request successful",user:s}]:[200,{code:500,msg:"Incorrect username or password"}])},1e3)})})}}).bootstrap(),r.default.use(i.a,{locale:l.a}),r.default.config.productionTip=!1,new r.default({el:"#app",router:S,components:{App:o},template:"<App/>"})},OZDj:function(e,t){},Q8BW:function(e,t){},t5Dl:function(e,t){},tAHv:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ae56475aa54c58afed51.js.map